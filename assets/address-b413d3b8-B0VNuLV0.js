import{cM as h}from"./index-a49ef40b-CXSGPgpG.js";import{E as g}from"./index-Bx48zrYB.js";import{d as b,a1 as V,a as k,J as w,o as q,F as P,u as i,B as A}from"./app-zn1mcIr_.js";import"./index-4NOkZgSY.js";import"./strings-4JpZpaBE.js";import"./index-CHWn4zmf.js";import"./index-DFTgOdVt.js";import"./isEqual-CfVUvbcY.js";import"./index-CmFzqkem.js";import"./index-BU-N0Vuc.js";import"./index-H7nlcYxH.js";import"./index-Czq2ksv8.js";const K=b({__name:"address",props:{labelKey:{type:String,default:"name"},valueKey:{type:String,default:"id"},level:{type:Number,default:1},cascaderProps:{type:Object,default:()=>{}},modelValue:{type:[String,Number,Array]},requester:{type:Function}},emits:["update:modelValue"],setup(d,{emit:c}){const e=d,m=V(),f=c,n=k({get:()=>e.modelValue||(e.level>0?[]:null),set:t=>{f("update:modelValue",t)}}),y={lazy:!0,lazyLoad(t,a){const{level:l}=t,u=l==0?-1:t.value,r=[];v(u,l).then(o=>{const p=r.concat(o);a(p)}).catch(o=>{a(r)})},...e.cascaderProps},v=(t,a=1)=>new Promise(async(l,u)=>{try{if(e.requester){const r=await e.requester(t,a),o=typeof m.handler=="function"?m.handler(r):r;if(Array.isArray(o)&&o.length>0){const p=o.map(s=>({value:s[e.valueKey]??s.value,label:s[e.labelKey]??s.label,leaf:s.leaf??a>=e.level}));l(p)}else l([]),console.warn("No data found for the given region.")}else l([]),console.warn("requester is not defined. Please provide a method to fetch address data in the props.")}catch(r){u(r),console.warn(r)}});return(t,a)=>(q(),w(i(g),P({props:y,modelValue:i(n),"onUpdate:modelValue":a[0]||(a[0]=l=>A(n)?n.value=l:null),key:d.level},t.$attrs),null,16,["modelValue"]))}}),M=h(K,[["__file","/home/runner/work/element-plus-formkit/element-plus-formkit/src/modules/address.vue"]]);export{M as default};
