import{cM as S,aT as N}from"./index-a49ef40b-CoohSwVZ.js";import{E as V,a as R}from"./index-DsfTvs3j.js";import{d as G,a1 as L,r as g,a as r,c as f,q as M,o as s,J as y,R as T,w as h,g as A,t as b,B as C,u as n,S as U,a0 as j,L as q}from"./app-zBuj1REd.js";import"./index-B4exuNQu.js";import"./isEqual-Bh1Ios0G.js";const z={class:"formKit-module-checkbox"},D={key:2},F=G({__name:"checkbox",props:{modelValue:{type:Array,default:()=>[]},showAllCheck:{type:Boolean,default:!1},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(i,{emit:x}){const t=i,d=L();let u=g(!1),o=r({get:()=>t.modelValue||[],set:e=>{w("update:modelValue",e),k(e)}}),c=g(!0);const w=x,E=r(()=>t.options.length>0&&t.showAllCheck);r(()=>{let e=[],{valueKey:a="id",labelKey:l="name"}=d;return t.options.length===0||Array.isArray(o.value)&&o.value.length>0&&o.value.forEach(p=>{const m=t.options.find(B=>B[a]===p);m!=null&&m[l]&&e.push(m[l])}),e});const K=r(()=>{var e;return((e=N().value.locale)==null?void 0:e.name)==="en"?"Select All":"全选"}),v=r(()=>d);function _(e){o.value=e?[...t.options].map(a=>a[d.valueKey||"id"]):[],c.value=!1}function k(e){const a=Array.isArray(e)?e.length:0;u.value=a===t.options.length,c.value=a>0&&a<t.options.length}return M(()=>k(t.modelValue)),(e,a)=>(s(),f("div",z,[E.value?(s(),y(n(V),{key:0,indeterminate:n(c),modelValue:n(u),"onUpdate:modelValue":a[0]||(a[0]=l=>C(u)?u.value=l:u=l),onChange:_},{default:h(()=>[A(b(K.value),1)]),_:1},8,["indeterminate","modelValue"])):T("",!0),i.options.length>0?(s(),y(n(R),{key:1,modelValue:n(o),"onUpdate:modelValue":a[1]||(a[1]=l=>C(o)?o.value=l:o=l)},{default:h(()=>[(s(!0),f(U,null,j(i.options,(l,p)=>(s(),y(n(V),{value:l[v.value.valueKey||"id"],key:p,style:q(e.$attrs.styles)},{default:h(()=>[A(b(l[v.value.labelKey||"name"]),1)]),_:2},1032,["value","style"]))),128))]),_:1},8,["modelValue"])):(s(),f("p",D,"No available options found"))]))}}),P=S(F,[["__file","/home/runner/work/element-plus-formkit/element-plus-formkit/src/modules/checkbox.vue"]]);export{P as default};
