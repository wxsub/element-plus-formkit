import{cM as b,cS as _}from"./index-a49ef40b-CXSGPgpG.js";import{h as B,i as E}from"./index-C9hT0oyv.js";import{E as C}from"./index-4NOkZgSY.js";import{d as S,a1 as u,a as n,b as w,J as d,o as s,w as m,e as i,u as e,B as x,M as K,c,g as j,S as F,f as y,t as N,F as P}from"./app-zn1mcIr_.js";import"./strings-4JpZpaBE.js";import"./index-CHWn4zmf.js";import"./index-DFTgOdVt.js";import"./isEqual-CfVUvbcY.js";import"./index-CmFzqkem.js";const $={key:0,class:"module-popover-loading"},z={class:"ellipsis"},D=S({__name:"popover",props:{modelValue:{default:null},labelKey:{type:String,default:"name"},valueKey:{type:String,default:"id"},loading:{type:Boolean,default:!1},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(l,{emit:f}){const t=l,g=f,r=u(),v=n(()=>r&&typeof r.popover=="object"?r.popover:{}),k=n(()=>Object.assign(r.props||{},{label:t.labelKey,value:t.valueKey})),a=n({get:()=>t.modelValue,set:o=>{g("update:modelValue",o)}}),h=n(()=>Array.isArray(t.options)&&t.options.length===0?u().placeholder||"请选择":(()=>{const o=a.value;if(Array.isArray(o)&&o.length>=1)return Array.isArray(o[0])?`${o[0].join("/")} +${a.value.length}`:o[0]})()||u().placeholder||"请选择");return(o,p)=>{const V=w("el-icon");return s(),d(e(E),P({trigger:"click",disabled:l.loading},e(v),{"popper-style":{padding:0},width:"auto"}),{reference:m(()=>[i("span",{class:K([{"module-popover-active":e(a)},"module-popover-context"])},[l.loading?(s(),c("span",$,p[1]||(p[1]=[j(" 正在加载 "),i("i",{class:"el-icon-loading"},null,-1)]))):(s(),c(F,{key:1},[i("span",z,N(e(h)),1),y(V,null,{default:m(()=>[y(e(_))]),_:1})],64))],2)]),default:m(()=>[i("div",null,[l.options.length===0?(s(),d(e(B),{key:0,"image-size":60})):(s(),d(e(C),{key:1,options:l.options,props:e(k),modelValue:e(a),"onUpdate:modelValue":p[0]||(p[0]=A=>x(a)?a.value=A:null)},null,8,["options","props","modelValue"]))])]),_:1},16,["disabled"])}}}),I=b(D,[["__file","/home/runner/work/element-plus-formkit/element-plus-formkit/src/modules/popover.vue"]]);export{I as default};
