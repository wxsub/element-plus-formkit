import{aN as g,V as F,au as x,r as C,Z as _,a2 as f,bt as h,d_ as A,a8 as E}from"./app-BPF8vt5S.js";function T(l,{beforeFocus:t,afterFocus:n,beforeBlur:c,afterBlur:u}={}){const r=g(),{emit:v}=r,o=F(),i=x(),e=C(!1),d=a=>{h(t)&&t(a)||e.value||(e.value=!0,v("focus",a),n==null||n())},m=a=>{var s;h(c)&&c(a)||a.relatedTarget&&((s=o.value)!=null&&s.contains(a.relatedTarget))||(e.value=!1,v("blur",a),u==null||u())},b=a=>{var s,p;(s=o.value)!=null&&s.contains(document.activeElement)&&o.value!==document.activeElement||A(a.target)||i.value||(p=l.value)==null||p.focus()};return _([o,i],([a,s])=>{a&&(s?a.removeAttribute("tabindex"):a.setAttribute("tabindex","-1"))}),f(o,"focus",d,!0),f(o,"blur",m,!0),f(o,"click",b,!0),{isFocused:e,wrapperRef:o,handleFocus:d,handleBlur:m}}const k=l=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(l);function D({afterComposition:l,emit:t}){const n=C(!1),c=o=>{t==null||t("compositionstart",o),n.value=!0},u=o=>{var i;t==null||t("compositionupdate",o);const e=(i=o.target)==null?void 0:i.value,d=e[e.length-1]||"";n.value=!k(d)},r=o=>{t==null||t("compositionend",o),n.value&&(n.value=!1,E(()=>l(o)))};return{isComposing:n,handleComposition:o=>{o.type==="compositionend"?r(o):u(o)},handleCompositionStart:c,handleCompositionUpdate:u,handleCompositionEnd:r}}export{D as a,T as u};
