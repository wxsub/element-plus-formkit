import{cN as g}from"./index-02e6c8c1-BCWzB-zE.js";import{E as V,c as k}from"./index-BDJ465nR.js";import{d as b,r as c,a as w,K as p,x as C,o as m,a3 as K,a1 as f,w as y,c as F,U as _,u as o,G as B,B as E,F as O,a4 as P,a5 as $}from"./app-PMdjs15z.js";import"./strings-D1k60UNs.js";import"./index-tMIL8vYx.js";import"./index-CsM1qyyV.js";import"./isEqual-ByJSA5Hh.js";import"./index-CspvaoOf.js";const q=b({__name:"remoteSearchSelect",props:{labelKey:{type:String,default:"name"},valueKey:{type:String,default:"id"},initialValue:{default:null},placeholder:{type:String,default:"请输入"},modelValue:{type:[String,Number,Array]},onChoose:{type:[Function,null],default:null},handler:{type:[Function,null],default:null},requester:{type:[Function,null],default:null}},emits:["update:modelValue"],setup(r,{emit:h}){const a=r,v=h,n=c([]),u=c(!1),s=w({get:()=>a.modelValue||null,set:e=>{v("update:modelValue",e)}}),d=async e=>{if(e&&a.requester){u.value=!0;const l=await a.requester(e);u.value=!1,n.value=a.handler?a.handler(l):Array.isArray(l)?l:[]}else n.value=[]},S=e=>{try{if(a.onChoose){const l=n.value.find(t=>t[a.valueKey]===e);l&&a.onChoose(l)}}catch(l){console.warn("remoteSearchSelect module onChoose error:",l)}};return C(()=>a.initialValue,e=>{Object.prototype.hasOwnProperty.call(a,"initialValue")&&d(e)},{immediate:!0}),(e,l)=>(m(),p(o(k),B({modelValue:o(s),"onUpdate:modelValue":l[0]||(l[0]=t=>E(s)?s.value=t:null),filterable:"",remote:"","reserve-keyword":"",placeholder:r.placeholder,onChange:S,"remote-method":d,loading:o(u)},e.$attrs),K({default:y(()=>[(m(!0),F(_,null,f(o(n),(t,i)=>(m(),p(o(V),{key:i,label:t[r.labelKey],value:t[r.valueKey]},null,8,["label","value"]))),128))]),_:2},[f(Object.keys(e.$slots),t=>({name:t,fn:y(i=>[O(e.$slots,t,P($(i)))])}))]),1040,["modelValue","placeholder","loading"]))}}),L=g(q,[["__file","/home/runner/work/element-plus-formkit/element-plus-formkit/src/modules/remoteSearchSelect.vue"]]);export{L as default};
