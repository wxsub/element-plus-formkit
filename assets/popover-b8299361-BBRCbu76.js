import{cL as b,cR as _}from"./index-fcef7efe-CXmS21i_.js";import{h as C,i as E}from"./index-Bhegr5kz.js";import{E as B}from"./index-Bai3ZWJb.js";import{d as w,$ as u,a as n,b as x,G as d,o as s,w as m,e as i,u as e,y as K,J as P,c,g as $,P as j,f as y,t as N,C as S}from"./app-D3qKCy88.js";import"./strings-BOp4_9Li.js";import"./index-C-WET9Xk.js";import"./index-DY1frie9.js";import"./isEqual-DlKoUcQt.js";import"./index-N1kxM34H.js";const z={key:0,class:"module-popover-loading"},D={class:"ellipsis"},F=w({__name:"popover",props:{modelValue:{default:null},labelKey:{type:String,default:"name"},valueKey:{type:String,default:"id"},loading:{type:Boolean,default:!1},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(l,{emit:f}){const t=l,g=f,r=u(),v=n(()=>r&&typeof r.popover=="object"?r.popover:{}),k=n(()=>Object.assign(r.props||{},{label:t.labelKey,value:t.valueKey})),a=n({get:()=>t.modelValue,set:o=>{g("update:modelValue",o)}}),h=n(()=>Array.isArray(t.options)&&t.options.length===0?u().placeholder||"请选择":(()=>{const o=a.value;if(Array.isArray(o)&&o.length>=1)return Array.isArray(o[0])?`${o[0].join("/")} +${a.value.length}`:o[0]})()||u().placeholder||"请选择");return(o,p)=>{const V=x("el-icon");return s(),d(e(E),S({trigger:"click",disabled:l.loading},e(v),{"popper-style":{padding:0},width:"auto"}),{reference:m(()=>[i("span",{class:P([{"module-popover-active":e(a)},"module-popover-context"])},[l.loading?(s(),c("span",z,p[1]||(p[1]=[$(" 正在加载 "),i("i",{class:"el-icon-loading"},null,-1)]))):(s(),c(j,{key:1},[i("span",D,N(e(h)),1),y(V,null,{default:m(()=>[y(e(_))]),_:1})],64))],2)]),default:m(()=>[i("div",null,[l.options.length===0?(s(),d(e(C),{key:0,"image-size":60})):(s(),d(e(B),{key:1,options:l.options,props:e(k),modelValue:e(a),"onUpdate:modelValue":p[0]||(p[0]=A=>K(a)?a.value=A:null)},null,8,["options","props","modelValue"]))])]),_:1},16,["disabled"])}}}),I=b(F,[["__file","/home/runner/work/element-plus-formkit/element-plus-formkit/src/modules/popover.vue"]]);export{I as default};
