import{cN as h}from"./index-7e2823cf-BIl6KDcI.js";import{E as g}from"./index-DgCVvpZc.js";import{d as b,a2 as w,a as k,K as P,o as V,a3 as K,a1 as S,G as _,u as i,B as q,w as A,F as B,a4 as N,a5 as z}from"./app-CWmAcci0.js";import"./index-B6CldImb.js";import"./strings-Nfnwxh87.js";import"./index-B0dietUW.js";import"./index-Dx52glk9.js";import"./isEqual-3O_DbLpI.js";import"./index-D77YkN_8.js";import"./index-LKzT5lxl.js";import"./index-mf95p-39.js";import"./index-DWoaUxDA.js";const C=b({__name:"address",props:{labelKey:{type:String,default:"name"},valueKey:{type:String,default:"id"},level:{type:Number,default:1},cascaderProps:{type:Object,default:()=>{}},modelValue:{type:[String,Number,Array]},requester:{type:Function}},emits:["update:modelValue"],setup(p,{emit:c}){const t=p,m=w(),f=c,u=k({get:()=>t.modelValue||(t.level>0?[]:null),set:a=>{f("update:modelValue",a)}}),y={lazy:!0,lazyLoad(a,r){const{level:e}=a,s=e==0?-1:a.value,o=[];v(s,e).then(l=>{const d=o.concat(l);r(d)}).catch(l=>{r(o)})},...t.cascaderProps},v=(a,r=1)=>new Promise(async(e,s)=>{try{if(t.requester){const o=await t.requester(a,r),l=typeof m.handler=="function"?m.handler(o):o;if(Array.isArray(l)&&l.length>0){const d=l.map(n=>({value:n[t.valueKey]??n.value,label:n[t.labelKey]??n.label,leaf:n.leaf??r>=t.level}));e(d)}else e([]),console.warn("No data found for the given region.")}else e([]),console.warn("requester is not defined. Please provide a method to fetch address data in the props.")}catch(o){s(o),console.warn(o)}});return(a,r)=>(V(),P(i(g),_({props:y,modelValue:i(u),"onUpdate:modelValue":r[0]||(r[0]=e=>q(u)?u.value=e:null),key:p.level},a.$attrs),K({_:2},[S(Object.keys(a.$slots),e=>({name:e,fn:A(s=>[B(a.$slots,e,N(z(s)))])}))]),1040,["modelValue"]))}}),I=h(C,[["__file","/home/runner/work/element-plus-formkit/element-plus-formkit/src/modules/address.vue"]]);export{I as default};
