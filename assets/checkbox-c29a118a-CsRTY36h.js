import{dM as w,d as B,at as N,r as v,a as d,c as y,o as s,ag as f,ai as S,w as h,g as V,a7 as n,by as b,al as z,aE as G,a5 as L,t as U}from"./app-CMEiSD4c.js";import{E as A,a as q}from"./index-DNUnGg2_.js";import"./index-BX-mkNb2.js";import"./isEqual-CbtFw5pc.js";const D={class:"formKit-module-checkbox"},F={key:2},M=B({__name:"checkbox",props:{modelValue:{type:[String,Array]},showAllCheck:{type:Boolean,default:!1},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(m,{emit:C}){const l=m,p=N();let r=v(!1),o=d({get:()=>(g(l.modelValue),l.modelValue||[]),set:a=>{x("update:modelValue",a),g(a)}}),u=v(!0);const x=C,_=d(()=>l.options.length>0&&l.showAllCheck);d(()=>{let a=[],{valueKey:e="id",labelKey:t="name"}=p;return l.options.length===0||Array.isArray(o)&&o.length>0&&o.forEach(c=>{const i=l.options.find(E=>E[e]===c);i!=null&&i[t]&&a.push(i[t])}),a});const k=d(()=>p);function K(a){o=a?[...l.options].map(e=>e[p.valueKey||"id"]):[],u.value=!1}function g(a){const e=Array.isArray(a)?a.length:0;r=e===l.options.length,u.value=e>0&&e<l.options.length}return(a,e)=>(s(),y("div",D,[_.value?(s(),f(n(A),{key:0,indeterminate:n(u),modelValue:n(r),"onUpdate:modelValue":e[0]||(e[0]=t=>b(r)?r.value=t:r=t),onChange:K},{default:h(()=>e[2]||(e[2]=[V("全选")])),_:1,__:[2]},8,["indeterminate","modelValue"])):S("",!0),m.options.length>0?(s(),f(n(q),{key:1,indeterminate:n(u),modelValue:n(o),"onUpdate:modelValue":e[1]||(e[1]=t=>b(o)?o.value=t:o=t)},{default:h(()=>[(s(!0),y(z,null,G(m.options,(t,c)=>(s(),f(n(A),{label:t[k.value.valueKey||"id"],key:c,style:L(a.$attrs.styles)},{default:h(()=>[V(U(t[k.value.labelKey||"name"]),1)]),_:2},1032,["label","style"]))),128))]),_:1},8,["indeterminate","modelValue"])):(s(),y("p",F,"No available options found"))]))}}),H=w(M,[["__file","/home/runner/work/element-plus-formkit/element-plus-formkit/src/modules/checkbox.vue"]]);export{H as default};
