import{cN as h}from"./index-1d9ecc32-KsrCuhhf.js";import{E as g}from"./index-BgErIETQ.js";import{d as b,a2 as V,a as k,K as w,o as q,G as K,u as i,B as N}from"./app-AMPdXDR1.js";import"./index-OB12n9F3.js";import"./strings-DM7YnrOU.js";import"./index-CiVdKhzu.js";import"./index-CN1Cf8YA.js";import"./isEqual-CsL6aoFj.js";import"./index-B017W_qv.js";import"./index-Cz98vJl7.js";import"./index-CCoJIkum.js";import"./index-Be1NhfMd.js";const P=b({__name:"address",props:{labelKey:{type:String,default:"name"},valueKey:{type:String,default:"id"},level:{type:Number,default:1},cascaderProps:{type:Object,default:()=>{}},modelValue:{type:[String,Number,Array]},requester:{type:Function}},emits:["update:modelValue"],setup(d,{emit:c}){const e=d,m=V(),f=c,n=k({get:()=>e.modelValue||(e.level>0?[]:null),set:t=>{f("update:modelValue",t)}}),y={lazy:!0,lazyLoad(t,a){const{level:l}=t,u=l==0?-1:t.value,r=[];v(u,l).then(o=>{const p=r.concat(o);a(p)}).catch(o=>{a(r)})},...e.cascaderProps},v=(t,a=1)=>new Promise(async(l,u)=>{try{if(e.requester){const r=await e.requester(t,a),o=typeof m.handler=="function"?m.handler(r):r;if(Array.isArray(o)&&o.length>0){const p=o.map(s=>({value:s[e.valueKey]??s.value,label:s[e.labelKey]??s.label,leaf:s.leaf??a>=e.level}));l(p)}else l([]),console.warn("No data found for the given region.")}else l([]),console.warn("requester is not defined. Please provide a method to fetch address data in the props.")}catch(r){u(r),console.warn(r)}});return(t,a)=>(q(),w(i(g),K({props:y,modelValue:i(n),"onUpdate:modelValue":a[0]||(a[0]=l=>N(n)?n.value=l:null),key:d.level},t.$attrs),null,16,["modelValue"]))}}),O=h(P,[["__file","/home/runner/work/element-plus-formkit/element-plus-formkit/src/modules/address.vue"]]);export{O as default};
