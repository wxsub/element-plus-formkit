import{dM as A,d as _,at as d,a as n,b as E,ag as u,o as s,w as m,e as i,a7 as e,by as B,a6 as C,c,g as w,al as x,f as y,t as K,dT as j,az as z}from"./app-BM1uspRd.js";import{h as N,i as P}from"./index-Cnl-o__6.js";import{E as S}from"./index-DLrntqbs.js";import"./strings-BVOz_ZbB.js";import"./index-NzNnSAZh.js";import"./index-X3_6HA2s.js";import"./isEqual-CJJk7dZ2.js";import"./index-DrRrQijJ.js";const $={key:0,class:"module-popover-loading"},D={class:"ellipsis"},F=_({__name:"popover",props:{modelValue:{default:null},labelKey:{type:String,default:"name"},valueKey:{type:String,default:"id"},loading:{type:Boolean,default:!1},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(l,{emit:g}){const t=l,f=g,r=d(),v=n(()=>r&&typeof r.popover=="object"?r.popover:{}),k=n(()=>Object.assign(r.props||{},{label:t.labelKey,value:t.valueKey})),o=n({get:()=>t.modelValue,set:a=>{f("update:modelValue",a)}}),h=n(()=>Array.isArray(t.options)&&t.options.length===0?d().placeholder||"请选择":(()=>{const a=o.value;if(Array.isArray(a)&&a.length>=1)return Array.isArray(a[0])?`${a[0].join("/")} +${o.value.length}`:a[0]})()||d().placeholder||"请选择");return(a,p)=>{const V=E("el-icon");return s(),u(e(P),z({trigger:"click",disabled:l.loading},e(v),{"popper-style":{padding:0},width:"auto"}),{reference:m(()=>[i("span",{class:C([{"module-popover-active":e(o)},"module-popover-context"])},[l.loading?(s(),c("span",$,p[1]||(p[1]=[w(" 正在加载 "),i("i",{class:"el-icon-loading"},null,-1)]))):(s(),c(x,{key:1},[i("span",D,K(e(h)),1),y(V,null,{default:m(()=>[y(e(j))]),_:1})],64))],2)]),default:m(()=>[i("div",null,[l.options.length===0?(s(),u(e(N),{key:0,"image-size":60})):(s(),u(e(S),{key:1,options:l.options,props:e(k),modelValue:e(o),"onUpdate:modelValue":p[0]||(p[0]=b=>B(o)?o.value=b:null)},null,8,["options","props","modelValue"]))])]),_:1},16,["disabled"])}}}),I=A(F,[["__file","/home/runner/work/element-plus-formkit/element-plus-formkit/src/modules/popover.vue"]]);export{I as default};
